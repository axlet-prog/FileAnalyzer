# File Analyzer (Утилита фильтрации содержимого файлов)

Консольная утилита для сортировки содержимого файлов. Программа читает данные из переданных входных файлов и
распределяет их по трем выходным файлам в зависимости от типа данных:

- **Целые числа** (integers)
- **Вещественные числа** (floats)
- **Строки** (strings)

Также утилита собирает и выводит статистику по обработанным данным.

## Технологический стек

Для запуска и сборки проекта требуются:

* **Java:** 21 (тестирование производилось на BellSoft Liberica 21.0.7)
* **Система сборки:** Maven 3.9.9

### Используемые библиотеки

| Библиотека  | Версия  | Описание                                 | Ссылка                                          |
|-------------|---------|------------------------------------------|-------------------------------------------------|
| **Picocli** | 4.7.7   | Обработка аргументов командной строки    | [picocli.info](https://picocli.info/)           |
| **Lombok**  | 1.18.30 | Сокращение шаблонного кода (Boilerplate) | [projectlombok.org](https://projectlombok.org/) |

---

## Установка и сборка

1. Клонируйте репозиторий.
2. Перейдите в корневую папку проекта.
3. Выполните сборку с помощью Maven:

```bash
  mvn clean package
```

После успешной сборки исполняемый файл `Analyzer-1.0.jar` появится в папке `target/`.

---

## Инструкция по запуску

Запуск осуществляется через командную строку:

```bash
  java -jar target/Analyzer-1.0.jar [ОПЦИИ] <файлы_для_анализа...>
```

### Поддерживаемые опции

| Флаг | Полное имя  | Описание                                                                              |
|------|-------------|---------------------------------------------------------------------------------------|
| `-o` | `--output`  | Путь к директории для сохранения результатов. По умолчанию — текущая папка.           |
| `-p` | `--prefix`  | Префикс для имен выходных файлов (например, `result_` создаст `result_integers.txt`). |
| `-a` | `--append`  | Режим добавления в существующие файлы. По умолчанию файлы перезаписываются.           |
| `-s` | `--short`   | Вывод **краткой** статистики (только количество элементов).                           |
| `-f` | `--full`    | Вывод **полной** статистики (мин/макс, сумма, среднее, длина строк).                  |
| `-h` | `--help`    | Показать справочное сообщение.                                                        |
| `-V` | `--version` | Показать версию утилиты.                                                              |

### Особенности реализации

* **Обработка ошибок:** При возникновении ошибок чтения входных файлов или записи выходных программа продолжает работу с
  остальными данными, выводя сообщение об ошибке в консоль.
* **Создание файлов:** Выходные файлы создаются только в том случае, если во входных данных присутствуют элементы
  соответствующего типа.
* **Статистика:** Если выбраны оба флага `-s` и `-f`, приоритет отдается полной статистике.
* **Обработка больших чисел:** Если число попадающее под целое не входит в рамки Long, или с плавающей запятой в Double,
  то они рассматриваются как строки, выведя соответствующее сообщение

---

## Примеры использования

### 1. Базовый запуск

Обработка файлов `in1.txt` и `in2.txt`. Результаты сохраняются в текущую папку (`integers.txt`, `floats.txt`,
`strings.txt`).

```bash
  java -jar target/Analyzer-1.0.jar in1.txt in2.txt
```

### 2. Указание пути и префикса

Сохранить результаты в папку `test_results` с префиксом `res_` (файлы вида `res_integers.txt`).

```bash
  java -jar target/Analyzer-1.0.jar -o test_results -p res_ test1.txt test2.txt
```

### 3. Полная статистика и режим добавления

Добавить данные в существующие файлы и вывести полную статистику.

```bash
  java -jar target/Analyzer-1.0.jar -a -f data.txt
```
